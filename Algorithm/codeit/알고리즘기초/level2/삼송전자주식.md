# 삼송전자 주식 분석







## 문제

> 주어진 주식 리스트에서 한 번 주식을 사서 한 번 주식을 팔 때, 가장 큰 수익을 출력
>
> 시간복잡도 O(n) 으로 구현



## 예시

```
max_profit([7, 1, 5, 3, 6, 4])
이 기간 동안 낼 수 있는 최대 수익은 얼마일까요? 둘째 날 11에 사서 다섯째 날 66에 팔면 총 55의 수익이 생깁니다.
```



## 풀이법 및 코드

- 주식 가격이 가장 낮은 날에 주식을 사서 가장 비싼 날에 팔아야 함
  - 단, 미래에 주식을 사서 과거에 팔 수는 없음
  - 주식을 산 날을 기점으로 다음 날들의 주식 가격들 중 가장 크게 수익을 낼 수 있는 날을 골라야 함
- 최소 주식 가격과 최대 수익을 계속 갱신해가면서 for문으로 순회를 하는 것이 관건



```python
def max_profit(stock_list):
    # 현재까지의 최대 수익
    max_profit_so_far = stock_list[1] - stock_list[0]
    
    # 현재까지의 최소 주식 가격
    min_so_far = min(stock_list[0], stock_list[1])
    
    # 주식 가격을 하나씩 확인
    for i in range(2, len(stock_list)):
        # 현재 파는 것이 좋은지 확인
        max_profit_so_far = max(max_profit_so_far, stock_list[i] - min_so_far)
        # 현재 주식 가격이 최솟값인지 확인
        min_so_far = min(min_so_far, stock_list[i])
    return max_profit_so_far

# 테스트
print(max_profit([7, 1, 5, 3, 6, 4]))
print(max_profit([7, 6, 4, 3, 1]))
print(max_profit([11, 13, 9, 13, 20, 14, 19, 12, 19, 13]))
print(max_profit([12, 4, 11, 18, 17, 19, 1, 19, 14, 13, 7, 15, 10, 1, 3, 6]))

'''
5
-1
11
18

'''
```



**코드 풀이**

```
[7,1,5,3,6,4] 를 예시로 하자면
첫째 날에 사서 둘째 날에 주식을 팔았다고 가정
초기 수익은 -6
첫째 날과 둘째 날 중 최소 주식 가격이 있는 날은 둘째 날

둘째 날에 주식을 샀다고 가정
셋째날 부터 나머지 주식 가격을 순회
둘째날 주식가격 1에서 셋째날 주식 가격 5로 팔면 
수익은 4 => 최대 수익 -6 에서 4로 갱신

최소 주식 가격은 여전히 1

둘째날 산 주식을 넷째날 주식 가격 3에 팔면 => 수익은 2
주식 가격 5에 팔았던 날보다 수익이 적으므로 최대 수익은 여전히 4

최소 주식 가격은 여전히 1

둘째날 산 주식을 다섯째날 주식 가격 6에 팔면 => 수익은 5
지금까지의 최대 수익 4보다 크므로 최대 수익 5로 갱신

최소 주식 가격은 여전히 1

둘째날 산 주식을 마지막날 주식 가격 4에 팔면 => 수익은 3
최대 수익 갱신 x

따라서 최대 수익은 둘째 날 산 주식을 다섯째날 팔았을 때 수익 5

----

[7, 6, 4, 3, 1] 를 예시로 한다면

초기 수익은 -1
첫째 날과 둘째 날 중 최소 주식 가격이 있는 날은 둘째날

둘째날 주식을 샀다고 가정

셋째날 부터 순회

둘째날 산 주식을 셋째 날에 팔면 => 수익은 -2
초기 수익 -1보다 작으므로 수익 갱신 x
둘째날 주식보다 셋째날 주식 가격이 더 낮으므로 셋째날 에 주식을 샀다고 가정

최소 주식 가격을 4로 갱신


셋째날 주식을 넷째날 주식 가격 3에 팔면 => 수익은 -1
초기 수익 -1과 같으므로 수익 갱신 x
셋째날 주식 가격보다 넷째날 주식 가격이 더 낮으므로 넷째날에 주식을 샀다고 가정

최소 주식 가격을 3으로 갱신

넷째날 주식을 사서 마지막 날 주식 가격 1에 팔면 => 수익은 -2
수익 갱신 x

따라서 최대 수익은 -1




```



